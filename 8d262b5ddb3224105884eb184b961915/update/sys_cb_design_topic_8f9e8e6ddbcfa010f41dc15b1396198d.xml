<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="KB Test Max">c39e0ae9dbcfa010f41dc15b13961925</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"9269d157cdd4464cb04ea84febb5f885","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"9269d157cdd4464cb04ea84febb5f885"}],"goals":[{"name":"primary","trigger_id":"9269d157cdd4464cb04ea84febb5f885","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"script","value":"(function execute() {\n    /* Script the string logic here.\n       Be sure to return a quoted string.\n\n       For example:\n\n       var result;\n       var x = 1;\n       if (x == 1) {\n           result = 'hi there';\n       } else {\n           result = 'how are you?';\n       }\n       return result;\n    */\n    return '';\n})()\n"},"id":"3e4ede4e98594e58bc533c9e9678c1a6","name":"Start","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"1dc41409b47b46d3b46a194f221ff270","name":"End","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"440cf21c029f4df683feb6283517a082","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Enter a phrase to search the knowledge base.\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"ebebbb1f1bb64373bd50a625b51c2e0b","name":"Search Term","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ScriptedAction","script":"(function execute() {\n    /* Uses the searh term inputed by user and calls the Contextual Search using the search context created\n       to return a max of 20 results and stores them JSON string.\n    */\n    var search_term = vaInputs.search_term;\n    var context = vaVars.search_context_sys_id;\n    var contextualSearch = new sn_itsm_va.VAContextualSearchUtil();\n    var response = contextualSearch.search(context, search_term);\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }   \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.kbResultCount = relevantSearchResults.length;\n    vaVars.search_kb_json_string = JSON.stringify(relevantSearchResults);\n    vaVars.index = 0;\n    return;\n})()\n","id":"1f73c707c46d44fb9077b6f2ddfafcbc","name":"Contextual Search","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"6d221c3a85ef4c3fbe05b4ece03ea35d","name":"KB Selection","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"2047f1021c154583ba036a3db148b63a","message":{"type":"String","mode":"script","value":"(function execute() {\n    if (vaVars.kbResultCount &gt; 0)\n        return gs.getMessage('Alright, how else can I help? Here\\'s what I can do:');\n\n    return gs.getMessage(\"Sorry, I couldn't find anything on that topic. What would you like to do?\");\n})()\n"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    /*\n    Pagination buttons for suggested KB articles.\n    */\n    var options = [];\n    var limit = parseInt(vaVars.limit);\n    var index = parseInt(vaVars.index);\n    \n    if (index &gt;= limit) {\n        options.push({ 'value': 'show_prev', 'label': gs.getMessage('Show previous')});    \n    }\n\n    if (index+limit &lt; vaVars.kbResultCount) {\n        options.push({ 'value': 'show_next', 'label': gs.getMessage('Show more')});    \n    }\n    options.push({ 'value': 'new_search', 'label': gs.getMessage('Try a different search')});\n    options.push({ 'value': 'cancel', 'label': gs.getMessage('I\\'m done')});\n    return options;\n})()\n","no_options_found_message":{"type":"String","mode":"string","value":"No Records Found"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    /*\n    Pagination buttons for suggested KB articles.\n    */\n    var options = [];\n    var limit = parseInt(vaVars.limit);\n    var index = parseInt(vaVars.index);\n    \n    if (index &gt;= limit) {\n        options.push({ 'value': 'show_prev', 'label': gs.getMessage('Show previous')});    \n    }\n\n    if (index+limit &lt; vaVars.kbResultCount) {\n        options.push({ 'value': 'show_next', 'label': gs.getMessage('Show more')});    \n    }\n    options.push({ 'value': 'new_search', 'label': gs.getMessage('Try a different search')});\n    options.push({ 'value': 'cancel', 'label': gs.getMessage('I\\'m done')});\n    return options;\n})()\n"}},{"type":"Decision","name":"Knowledge Choice Decision","branches":[{"type":"Branch","label":"Cancel","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.kb_selection == 'cancel';\n})()\n"},"id":"f54ba2695c2043f68c031206db165db1","name":"Cancel"},{"type":"Branch","label":"New Search","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.kb_selection == 'new_search';\n})()\n"},"id":"2e0692636e0346f6ac2ecf3b38353c1f","name":"New Search"},{"type":"Branch","label":"Show Next","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.kb_selection == 'show_next';\n})()\n"},"id":"f386caf084934921959730b53a720d96","name":"Show Next"},{"type":"Branch","label":"Show Previous","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.kb_selection == 'show_prev';\n})()\n"},"id":"c32044ea19184c63bbe64150cb27dd02","name":"Show Previous"}],"id":"1390903d49d14720a68866419b37fec2","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    vaVars.index = parseInt(vaVars.index) + parseInt(vaVars.limit);\n    return '';\n})()\n","id":"0d1a299f898d4cc9928d2dd76dcd4b98","name":"Next","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    vaVars.index = parseInt(vaVars.index) - parseInt(vaVars.limit);\n    return '';\n})()\n","id":"14eb02e4feed4f6eb14414e1014c521b","name":"Previous","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"No KBs","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaVars.kbResultCount &gt; 0);\n})()\n"},"id":"dc7ba08e1da84107b451781bb13a1f82","name":"No KBs"},{"type":"Branch","label":"Found KB(s)","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.kbResultCount &gt; 0;\n})()\n"},"id":"d1a8d37dca7c4410a765e02659f10bdd","name":"Found KB(s)"}],"id":"695f545a2f7e4a54ae45edbd3b17b6f8","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Here are the results I found in our Knowledge Base that might help you.\", vaContext.getRequesterLang())"},"id":"a2133c44dd81472b9419b9c69c5306a9","name":"Found Result Message","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"LinkOutputPrompt","header":{"type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"label":{"type":"String","mode":"string","value":""},"url":{"type":"String","mode":"string","value":""},"link_type":"multiple","multi_link_script":"(function execute(header) {\n\tvar variables = {\n\t\tlimit: vaVars.limit,\n\t\tindex: vaVars.index,\n\t\tsearch_kb_json_string: vaVars.search_kb_json_string,\n\t\tportal: vaInputs.portal\n\t}\n\tvar contextualSearch = new sn_itsm_va.VAContextualSearchUtil();\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n\t\n})(header)\n","id":"b9de7597779a448abf0818f121c5b199","name":"Display KB(s)","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"42b3a43f77d14eda9f7a53f0371c5d26","name":"asdasasda","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"579331f2ca5545a4bfee7057017b0550","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"dsadasdas\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}}],"edges":[{"type":"Edge","source_node_id":"a2133c44dd81472b9419b9c69c5306a9","target_node_id":"b9de7597779a448abf0818f121c5b199","id":"8a187b12f33b4aab8eebdbbb3d41b8b2"},{"type":"Edge","source_node_id":"ebebbb1f1bb64373bd50a625b51c2e0b","target_node_id":"1f73c707c46d44fb9077b6f2ddfafcbc","id":"33dddf7f4f604498bf459d8f6fdd0505"},{"type":"Edge","source_node_id":"6d221c3a85ef4c3fbe05b4ece03ea35d","target_node_id":"1390903d49d14720a68866419b37fec2","id":"59ea1fa2ae004bf990d401ef1703ffd0"},{"type":"Edge","source_node_id":"1390903d49d14720a68866419b37fec2","target_node_id":"1dc41409b47b46d3b46a194f221ff270","branch_id":"f54ba2695c2043f68c031206db165db1","id":"a6ef66e3b5e34958842eff3385cc65c9","name":"f54ba2695c2043f68c031206db165db1"},{"type":"Edge","source_node_id":"1390903d49d14720a68866419b37fec2","target_node_id":"ebebbb1f1bb64373bd50a625b51c2e0b","branch_id":"2e0692636e0346f6ac2ecf3b38353c1f","id":"2876b424abc84d8eb3349f6c8644bc86","name":"2e0692636e0346f6ac2ecf3b38353c1f"},{"type":"Edge","source_node_id":"1390903d49d14720a68866419b37fec2","target_node_id":"0d1a299f898d4cc9928d2dd76dcd4b98","branch_id":"f386caf084934921959730b53a720d96","id":"3b0256b592954ac2ac679a2814ebe827","name":"f386caf084934921959730b53a720d96"},{"type":"Edge","source_node_id":"0d1a299f898d4cc9928d2dd76dcd4b98","target_node_id":"b9de7597779a448abf0818f121c5b199","id":"6bf6e333957f461d93e8cfef8ea0660a"},{"type":"Edge","source_node_id":"1390903d49d14720a68866419b37fec2","target_node_id":"14eb02e4feed4f6eb14414e1014c521b","branch_id":"c32044ea19184c63bbe64150cb27dd02","id":"d28dc6df813a46b698565c974d07f99f","name":"c32044ea19184c63bbe64150cb27dd02"},{"type":"Edge","source_node_id":"14eb02e4feed4f6eb14414e1014c521b","target_node_id":"b9de7597779a448abf0818f121c5b199","id":"ee8f20a4727843d081221ee0ed1245c6"},{"type":"Edge","source_node_id":"1f73c707c46d44fb9077b6f2ddfafcbc","target_node_id":"695f545a2f7e4a54ae45edbd3b17b6f8","id":"0b6385c3f0a245aea7d20747a8f1e433"},{"type":"Edge","source_node_id":"695f545a2f7e4a54ae45edbd3b17b6f8","target_node_id":"6d221c3a85ef4c3fbe05b4ece03ea35d","branch_id":"dc7ba08e1da84107b451781bb13a1f82","id":"d89d0ae303534e7ca07c0df7992c3801","name":"dc7ba08e1da84107b451781bb13a1f82"},{"type":"Edge","source_node_id":"695f545a2f7e4a54ae45edbd3b17b6f8","target_node_id":"a2133c44dd81472b9419b9c69c5306a9","branch_id":"d1a8d37dca7c4410a765e02659f10bdd","id":"a5a74affc4f3411e839c5d3ff74e57e1","name":"d1a8d37dca7c4410a765e02659f10bdd"},{"type":"Edge","source_node_id":"b9de7597779a448abf0818f121c5b199","target_node_id":"6d221c3a85ef4c3fbe05b4ece03ea35d","id":"cff926dfa836483e8c77411899cee8ea"},{"type":"Edge","source_node_id":"3e4ede4e98594e58bc533c9e9678c1a6","target_node_id":"42b3a43f77d14eda9f7a53f0371c5d26","id":"789dbb66678048588791528b58ea177c"},{"type":"Edge","source_node_id":"42b3a43f77d14eda9f7a53f0371c5d26","target_node_id":"ebebbb1f1bb64373bd50a625b51c2e0b","id":"09df16d4c0934cfa88ee2f9e3cbef68f"}],"id":"primary"}],"script_variables":[{"type":"String","name":"search_kb_json_string","id":"7f373c4f72324556a5cdc8a2533ab22e","formatType":"text"},{"type":"String","name":"index","value":{"type":"String","mode":"script"},"id":"d6beb6fa753e44078b738a00b8f930c7","formatType":"text"},{"type":"String","name":"limit","value":{"type":"String","mode":"string","value":"3"},"id":"47b6033b1d11466ca9f0913c592dd652","formatType":"text"},{"type":"String","name":"search_context_sys_id","value":{"type":"String","mode":"string","value":"2821675a5b30130070e4492c11f91a89"},"id":"c1e1217991aa49d0b374de85fca07351","formatType":"text"},{"type":"String","name":"kbResultCount","value":{"type":"String","mode":"string","value":"0"},"id":"9ee210ab2b734ee0a8cc955e9c96ab1f","formatType":"text"},{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string","value":"itsm"},"id":"058087f8f6f849a590e93485dd6e6a56","formatType":"text"}],"glide_variables":[{"type":"String","name":"search_term","id":"440cf21c029f4df683feb6283517a082","formatType":"Text","validationScript":""},{"type":"Choice","choices":[],"id":"2047f1021c154583ba036a3db148b63a","name":"kb_selection","formatType":"text","table":""},{"type":"Reference","table":"sys_user","id":"c749a02e065e4c6d9e63036b998b796c","name":"user","formatType":"text"},{"type":"Choice","choices":[{"name":"das","element":"sada"}],"id":"579331f2ca5545a4bfee7057017b0550","name":"asdasasda","formatType":"text"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"global","domain":"global","topic_type":"STANDARD","channels":[],"id":"62eeadc4db076c50f41dc15b1396190c","name":"KB Test Max","key_phrases":["accident accidental death add beneficiaries baby beneficiaries career change child claim COBRA college degree contribution courses coverage death education employer matching extend leave husband injury kid leave Life Event LOA loan long term LTD missed New Hire newborn paid time off partner pass away pregnancy prolongued absence PTO reimbursement retirement account retirement money retirement savings savings short term sick time spouse start STD study termination time off tuition tuition assistance update beneficiaries vacation pay wife withdraw money window 401(k) 401k absent accident plan add child add dependent add spouse address incorrect addresss correction adopted child adoption after-tax annual enrollment application approval back to college back to work before-tax benefit changes benefit question benefit start benefits election benefits end benefits information benefits number benefits offered benefits stop benefits team call vendor card replacement cards care for cease change address change HSA changing benefits choose benefits chose benefits come back contact carrier contact vendor contribute to HSA core correct address court dependent court notice court order coverage begins coverage start counseling custody death claim deceased husband deceased wife decision decrease HSA deductions Delta Dental denial dental coverage dental high dental low dependent documentation dependent verification determination die disability domestic partner drug drug coverage drugstore EAP email benefits employee benefits employee assistance employment ends enhanced enroll benefits Express Scripts eye doctor eyeglasses EyeMed fexible spending file claim first day forgot formulary FSA FSA advantage fund account garnishment give birth got married guardianship health savings healthcare expenses high plan hospital indemnity HSA HSA advantage HSA funds HSA money include increase HSA insurance claim last day learn Leave of absence locked out lose money lost card low plan maternity leave medical card medical expenses medical leave medicine medicine coverage medicine list military new card new employee no card no longer work not employed not received open paid less parental leave passing paternity payroll pharmacy physical wellness phone number pick benefits plan difference premiums prescription coverage prescription plan put money QLE QMCSO qualified expenses Qualified Life Event reduction remove beneficiaries remove child remove dependent report claim restore return to work roth Rx covered same salary school Select benefits spouse death steps support order surgery system access tax advantage terminated time away time card timecard therapy unpaid time update address update benefits vacation verification verify dependent vendor number vision carrier vision coverage vision plan vision provider","kkkkkk"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"3efd22da0b203300a1b16c2367673a10","library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>62eeadc4db076c50f41dc15b1396190c</design_topic_id>
        <name>KB Test Max</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>xxmpurik</sys_created_by>
        <sys_created_on>2021-03-22 08:43:05</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_domain>global</sys_domain>
        <sys_id>8f9e8e6ddbcfa010f41dc15b1396198d</sys_id>
        <sys_mod_count>10</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="GM Checklist" source="x_aaro2_gm_checkl">8d262b5ddb3224105884eb184b961915</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="GM Checklist">8d262b5ddb3224105884eb184b961915</sys_scope>
        <sys_update_name>sys_cb_design_topic_8f9e8e6ddbcfa010f41dc15b1396198d</sys_update_name>
        <sys_updated_by>xxmpurik</sys_updated_by>
        <sys_updated_on>2021-03-22 13:42:23</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
